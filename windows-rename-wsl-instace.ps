# I should re-write this as a bash function and put in the AlienShuffle script library.
function Rename-WSLDistro {
    param(
        [string]$OldName,
        [string]$NewName,
        [string]$BaseDir = "C:\WSL"
    )

    $Tar = "$BaseDir\$OldName-rename.tar"
    $NewPath = "$BaseDir\$NewName"

    wsl --export $OldName $Tar
    wsl --unregister $OldName
    New-Item -ItemType Directory -Path $NewPath -Force | Out-Null
    wsl --import $NewName $NewPath $Tar
}